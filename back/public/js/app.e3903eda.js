(function(t){function e(e){for(var a,o,s=e[0],i=e[1],u=e[2],b=0,O=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&O.push(c[o][0]),c[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(O.length)O.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},c={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2cf0":function(t,e,n){"use strict";n("ff7d")},4877:function(t,e,n){},4941:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(t,e,n,c,r,o){var s=Object(a["z"])("Navbar"),i=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(s),Object(a["h"])(i)],64)}var r=function(t){return Object(a["v"])("data-v-86966c74"),t=t(),Object(a["t"])(),t},o={id:"nav"},s=r((function(){return Object(a["f"])("a",{class:"link",href:"/"},"Accueil",-1)})),i=r((function(){return Object(a["f"])("a",{class:"link",href:"/profil"},"Profil",-1)})),u=r((function(){return Object(a["f"])("button",{class:"button link"},"Règles du jeu",-1)})),l=[s,i,u];function b(t,e){return Object(a["s"])(),Object(a["e"])("nav",o,l)}n("ba3e");var O=n("6b0d"),j=n.n(O);const p={},f=j()(p,[["render",b],["__scopeId","data-v-86966c74"]]);var d=f,h={components:{Navbar:d}};n("7666");const m=j()(h,[["render",c]]);var y=m,g=n("6c02"),v={id:"home"},k=Object(a["f"])("h1",null,"Liste des salons",-1),P={id:"list-rooms"},D=Object(a["f"])("h2",null,"Partie en attente de joueur",-1),S={class:"section"},B=["href"],x=Object(a["f"])("br",null,null,-1),w=Object(a["f"])("h2",null,"Partie en 5 000",-1),I={class:"section"},C=["href"],M=Object(a["f"])("br",null,null,-1),N=Object(a["f"])("h2",null,"Partie en 10 000",-1),_={class:"section"},T=["href"],J=Object(a["f"])("br",null,null,-1),z=Object(a["f"])("h2",null,"Salon vide",-1),U={class:"section"},E=["href"],L=Object(a["f"])("br",null,null,-1);function R(t,e,n,c,r,o){var s=this;return Object(a["s"])(),Object(a["e"])("div",v,[k,Object(a["f"])("div",P,[D,Object(a["f"])("section",S,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(r.rooms,(function(t,e){return Object(a["s"])(),Object(a["e"])("div",{class:"room",key:t},[t?(Object(a["s"])(),Object(a["e"])("a",{key:0,href:s.url+"/game/".concat(parseInt(e)+1)},[Object(a["g"])("Salon n°"+Object(a["B"])(parseInt(e)+1)+" - "+Object(a["B"])(o.getMaxPoints(e))+"K",1),x,Object(a["g"])("Joueurs "+Object(a["B"])(null!==t?t:0)+"/"+Object(a["B"])(o.initMaxPlayer(e)),1)],8,B)):Object(a["d"])("",!0)])})),128))]),w,Object(a["f"])("section",I,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(r.rooms,(function(t,e){return Object(a["s"])(),Object(a["e"])("div",{class:"room",key:t},[5==o.getMaxPoints(e)?(Object(a["s"])(),Object(a["e"])("a",{key:0,href:s.url+"/game/".concat(parseInt(e)+1)},[Object(a["g"])("Salon n°"+Object(a["B"])(parseInt(e)+1),1),M,Object(a["g"])("Joueurs "+Object(a["B"])(null!==t?t:0)+"/"+Object(a["B"])(o.initMaxPlayer(e)),1)],8,C)):Object(a["d"])("",!0)])})),128))]),N,Object(a["f"])("section",_,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(r.rooms,(function(t,e){return Object(a["s"])(),Object(a["e"])("div",{class:"room",key:t},[10==o.getMaxPoints(e)?(Object(a["s"])(),Object(a["e"])("a",{key:0,href:s.url+"/game/".concat(parseInt(e)+1)},[Object(a["g"])("Salon n°"+Object(a["B"])(parseInt(e)+1),1),J,Object(a["g"])("Joueurs "+Object(a["B"])(null!==t?t:0)+"/"+Object(a["B"])(o.initMaxPlayer(e)),1)],8,T)):Object(a["d"])("",!0)])})),128))]),z,Object(a["f"])("section",U,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(r.rooms,(function(t,e){return Object(a["s"])(),Object(a["e"])("div",{class:"room",key:t},[t?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("a",{key:0,href:s.url+"/game/".concat(parseInt(e)+1)},[Object(a["g"])("Salon n°"+Object(a["B"])(parseInt(e)+1)+" - "+Object(a["B"])(o.getMaxPoints(e))+"K",1),L,Object(a["g"])("Joueurs "+Object(a["B"])(null!==t?t:0)+"/"+Object(a["B"])(o.initMaxPlayer(e)),1)],8,E))])})),128))])])])}var V=n("8e27"),F=n.n(V),$="doudou",A={name:"Home",components:{},data:function(){return{socket:F()(window.location.origin),url:window.location.origin,rooms:[]}},mounted:function(){var t=this;this.socket.on("home",(function(e){t.rooms=e})),this.socket.emit("home",{username:$})},computed:{},methods:{initMaxPlayer:function(t){var e=Math.floor(parseInt((t-1)/5)+1);return e<2?2:e},getMaxPoints:function(t){return(t-1)%5<3?5:10}}};n("6edd");const W=j()(A,[["render",R]]);var H=W,K=n("5530"),Z=(n("caad"),n("2532"),function(t){return Object(a["v"])("data-v-213c0298"),t=t(),Object(a["t"])(),t}),q={id:"game"},G=Z((function(){return Object(a["f"])("br",null,null,-1)})),Q={key:0,class:"last-winner"},X={key:1,class:"banner"},Y={key:0},tt={key:1},et={key:0},nt={class:"banner"},at={key:0},ct={key:0},rt={key:1},ot={key:1},st=Z((function(){return Object(a["f"])("p",null,"Pas assez de joueur",-1)})),it=[st];function ut(t,e,n,c,r,o){var s=Object(a["z"])("Table"),i=Object(a["z"])("Chat");return Object(a["s"])(),Object(a["e"])("div",q,[Object(a["f"])("h1",null,"Salon n°"+Object(a["B"])(this.id),1),Object(a["f"])("h2",null,[Object(a["g"])(" Partie à "+Object(a["B"])(this.partyData.playerNb)+" joueurs",1),G,Object(a["g"])("en "+Object(a["B"])(this.partyData.maxScore)+" points ",1)]),""!==this.partyData.lastWinner?(Object(a["s"])(),Object(a["e"])("p",Q," Dernier vainqueur : "+Object(a["B"])(this.partyData.lastWinner),1)):Object(a["d"])("",!0),Object(a["h"])(s,{partyData:Object(K["a"])({},this.partyData)},null,8,["partyData"]),this.partyData.isStart?(Object(a["s"])(),Object(a["e"])("div",X,[this.partyData.lose?(Object(a["s"])(),Object(a["e"])("p",Y,"PERDU "+Object(a["B"])(this.partyData.points)+" POINTS",1)):(Object(a["s"])(),Object(a["e"])("p",tt,[Object(a["g"])(Object(a["B"])(this.partyData.points)+" POINTS ",1),this.partyData.playerTurn!==this.actualPlayer||this.partyData.lose?Object(a["d"])("",!0):(Object(a["s"])(),Object(a["e"])("span",et,[this.partyData.canMakePoints?(Object(a["s"])(),Object(a["e"])("button",{key:0,class:"button",onClick:e[0]||(e[0]=function(){return o.takePoint&&o.takePoint.apply(o,arguments)})}," Prendre ")):Object(a["d"])("",!0),!this.partyData.playersName.includes(null)||this.partyData.isStart?(Object(a["s"])(),Object(a["e"])("button",{key:1,class:"button",onClick:e[1]||(e[1]=function(){return o.rollDices&&o.rollDices.apply(o,arguments)})}," Lancer x"+Object(a["B"])(this.partyData.diceRemaining),1)):Object(a["d"])("",!0)]))]))])):Object(a["d"])("",!0),Object(a["f"])("div",nt,[this.partyData.isStart?(Object(a["s"])(),Object(a["e"])("div",at,[this.partyData.playerTurn!==this.actualPlayer?(Object(a["s"])(),Object(a["e"])("p",ct," C'est le tour de "+Object(a["B"])(this.partyData.playersName[this.partyData.playerTurn-1])+" [J"+Object(a["B"])(this.partyData.playerTurn)+"] ",1)):(Object(a["s"])(),Object(a["e"])("p",rt,"C'est votre tour !"))])):(Object(a["s"])(),Object(a["e"])("div",ot,it))]),Object(a["h"])(i,{content:this.chat},null,8,["content"])])}var lt={id:"chat"};function bt(t,e,n,c,r,o){return Object(a["s"])(),Object(a["e"])("div",lt,Object(a["B"])(o.updateChat),1)}var Ot={name:"Chat",props:{content:String},computed:{updateChat:function(){return this.content}}};n("c917");const jt=j()(Ot,[["render",bt],["__scopeId","data-v-293916b4"]]);var pt=jt,ft=function(t){return Object(a["v"])("data-v-622dc396"),t=t(),Object(a["t"])(),t},dt={class:"table"},ht={key:0,id:"dices"},mt=["src"],yt={class:"player-list"},gt=["value","onClick"],vt=Object(a["g"])(" Libre"),kt=ft((function(){return Object(a["f"])("br",null,null,-1)})),Pt={key:1,class:"used-place"},Dt=ft((function(){return Object(a["f"])("br",null,null,-1)}));function St(t,e,c,r,o,s){var i=this;return Object(a["s"])(),Object(a["e"])("div",dt,[this.partyData.isStart&&(5!==this.partyData.diceRemaining||0!==this.partyData.points)||this.partyData.lose?(Object(a["s"])(),Object(a["e"])("div",ht,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(this.partyData.dices,(function(t){return Object(a["s"])(),Object(a["e"])("div",{class:"dice",key:{dice:t}},[Object(a["f"])("img",{src:n("e5e0")("./".concat(t,".png"))},null,8,mt)])})),128))])):Object(a["d"])("",!0),Object(a["f"])("ul",yt,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(this.partyData.playerNb,(function(t){return Object(a["s"])(),Object(a["e"])("li",{key:t,class:Object(a["n"])("position-".concat(t)),style:Object(a["o"])(i.playerPositonCSS[t])},[i.partyData.playersName[t-1]?(Object(a["s"])(),Object(a["e"])("button",Pt,[Object(a["g"])(Object(a["B"])(i.partyData.playersName[t-1]),1),Dt,Object(a["g"])(" "+Object(a["B"])(i.partyData.playersScore[t-1]),1)])):(Object(a["s"])(),Object(a["e"])("button",{key:0,value:t,onClick:function(e){return i.$parent.addPlayer(t)}},[vt,kt,Object(a["g"])("J"+Object(a["B"])(t),1)],8,gt))],6)})),128))])])}var Bt={name:"Table",props:{partyData:Object},data:function(){return{playerPositonCSS:{1:{bottom:"40%",right:"100%"},2:{bottom:"100%",right:"85%"},3:{bottom:"100%",right:"60%"},4:{bottom:"100%",right:"35%"},5:{bottom:"100%",right:"10%"},6:{top:"40%",left:"100%"},7:{top:"100%",left:"85%"},8:{top:"100%",left:"60%"},9:{top:"100%",left:"35%"},10:{top:"100%",left:"10%"}}}},computed:{}};n("714c");const xt=j()(Bt,[["render",St],["__scopeId","data-v-622dc396"]]);var wt=xt,It=localStorage.getItem("username")?JSON.parse(localStorage.getItem("username")).username:"error",Ct={components:{Chat:pt,Table:wt},data:function(){return{id:this.$route.params.id,socket:F()(window.location.origin),actualPlayer:-1,chat:"",bannerColor:"blue",partyData:{playerNb:0,isStart:!1,maxScore:5e3,dicePoints:[100,0,0,0,50,0],playersName:[],playersID:[],playersScore:[],playerTurn:0,dices:[],nbOfDices:5,diceRemaining:5,points:0,canMakePoints:!1,lose:!1,win:!1,msPerTurn:1e4,pointsBase:300,lastWinner:""}}},computed:{},mounted:function(){var t=this;this.socket.on("room_".concat(this.id),(function(e){t.chat+=e+"\n"})),this.socket.emit("room",{room:this.id,username:It})},beforeMount:function(){var t=this;this.socket.on("game_".concat(this.id),(function(e){t.partyData=Object(K["a"])({},e),console.log(e),e.win&&setTimeout((function(){t.actualPlayer=-1}),5e3)}))},methods:{takePoint:function(){this.socket.emit("takePoints",this.id)},rollDices:function(){this.socket.emit("game",this.id)},addPlayer:function(t){this.partyData.isStart&&-1===this.actualPlayer?this.chat+="La partie a déjà commencé !\n":-1===this.actualPlayer?(console.log(t),this.actualPlayer=t,this.socket.emit("addPlayer",{playerNb:this.actualPlayer-1,username:It,room:this.id})):this.chat+="Vous avez déjà pris place !\n"}}};n("7ee6");const Mt=j()(Ct,[["render",ut],["__scopeId","data-v-213c0298"]]);var Nt=Mt,_t={id:"profil"},Tt=Object(a["f"])("h1",null,"Profil",-1),Jt=Object(a["f"])("br",null,null,-1),zt=Object(a["f"])("h2",null,"Choisissez un pseudo pour jouer",-1),Ut={id:"form"},Et=Object(a["f"])("label",{for:"username"},"Choisir un psuedo",-1),Lt=["disabled"],Rt={class:"alert"};function Vt(t,e,n,c,r,o){var s=this;return Object(a["s"])(),Object(a["e"])("div",_t,[Tt,Jt,zt,Object(a["f"])("form",Ut,[Et,Object(a["F"])(Object(a["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.username=t}),id:"username",type:"text"},null,512),[[a["D"],this.username]]),Object(a["f"])("button",{onClick:e[1]||(e[1]=function(){return o.updateUsername&&o.updateUsername.apply(o,arguments)}),type:"button",disabled:o.checkValidateForm()}," Valider ",8,Lt)]),Object(a["f"])("p",Rt,Object(a["B"])(r.alert),1)])}var Ft=/^[a-zA-Z.,'\-àáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ].{2,9}$/,$t={data:function(){return{username:localStorage.getItem("username")?JSON.parse(localStorage.getItem("username")).username:"",alert:""}},methods:{checkValidateForm:function(){return!Ft.test(this.username)},updateUsername:function(){var t=this;localStorage.setItem("username",JSON.stringify({username:this.username})),this.alert="Pseudo Confirmé",setTimeout((function(){t.alert=""}),5e3)}}};n("2cf0");const At=j()($t,[["render",Vt]]);var Wt=At,Ht=function(t,e,n){var a=/^[a-zA-Z.,'\-àáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ]*.{3,6}$/,c=JSON.parse(localStorage.getItem("username"));return c&&a.test(c.username)?void n():void n("/profil")},Kt=[{path:"/",name:"Home",component:H,beforeEnter:Ht},{path:"/game/:id",name:"Game",component:Nt,beforeEnter:Ht},{path:"/profil",name:"Profil",component:Wt}],Zt=Object(g["a"])({history:Object(g["b"])("/"),routes:Kt}),qt=Zt,Gt=n("5502"),Qt=Object(Gt["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(y).use(Qt).use(qt).mount("#app")},"6d29":function(t,e,n){},"6edd":function(t,e,n){"use strict";n("4877")},"714c":function(t,e,n){"use strict";n("fb55")},7666:function(t,e,n){"use strict";n("4941")},"7ee6":function(t,e,n){"use strict";n("eca5")},"88cc":function(t,e,n){t.exports=n.p+"img/5.bc4c0ab8.png"},9933:function(t,e,n){t.exports=n.p+"img/2.f5e7f316.png"},a666:function(t,e,n){t.exports=n.p+"img/3.61112d34.png"},ba3e:function(t,e,n){"use strict";n("6d29")},c917:function(t,e,n){"use strict";n("dd88")},cda8:function(t,e,n){t.exports=n.p+"img/1.34fc85d7.png"},dd88:function(t,e,n){},e5e0:function(t,e,n){var a={"./1.png":"cda8","./2.png":"9933","./3.png":"a666","./4.png":"ee7f","./5.png":"88cc","./6.png":"f163"};function c(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}c.keys=function(){return Object.keys(a)},c.resolve=r,t.exports=c,c.id="e5e0"},eca5:function(t,e,n){},ee7f:function(t,e,n){t.exports=n.p+"img/4.09045f8b.png"},f163:function(t,e,n){t.exports=n.p+"img/6.a5a9c4e5.png"},fb55:function(t,e,n){},ff7d:function(t,e,n){}});
//# sourceMappingURL=app.e3903eda.js.map